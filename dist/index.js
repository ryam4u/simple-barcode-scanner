"use strict";module.exports=function(e){var t;e=Object.assign({latency:50,minLength:3,element:document,endKeys:["Enter"],validKey:/^\w$/,stopPropagation:!1,preventDefault:!1},e);var n=0,o="";function a(a){e.stopPropagation&&a.stopImmediatePropagation(),e.preventDefault&&a.preventDefault();var i=a.key,r=a.timeStamp,s=r-n;if(n=r,"Shift"!==i){var l=e.validKey.test(i),m=e.endKeys.includes(i);s>e.latency?o=!m&&l?i:"":l?o+=i:(m&&o.length>=e.minLength&&t(o,a),o="")}}return{on:function(n){e.element.removeEventListener("keydown",a,!0),o="",(t=n)&&e.element.addEventListener("keydown",a,!0)},off:function(){e.element.removeEventListener("keydown",a,!0)}}};
