!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).BarcodeScanner=n()}(this,function(){"use strict";return function(e){var n;e=Object.assign({latency:50,minLength:3,element:document,endKeys:["Enter"],validKey:/^\w$/,stopPropagation:!1,preventDefault:!1},e);var t=0,o="";function i(i){e.stopPropagation&&i.stopImmediatePropagation(),e.preventDefault&&i.preventDefault();var r=i.key,a=i.timeStamp,f=a-t;if(t=a,"Shift"!==r){var d=e.validKey.test(r),s=e.endKeys.includes(r);f>e.latency?o=!s&&d?r:"":d?o+=r:(s&&o.length>=e.minLength&&n(o,i),o="")}}return{on:function(t){e.element.removeEventListener("keydown",i,!0),o="",(n=t)&&e.element.addEventListener("keydown",i,!0)},off:function(){e.element.removeEventListener("keydown",i,!0)}}}});
